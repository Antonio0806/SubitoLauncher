(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"./app/components/JavaGlobalOptionsFixModal/JavaGlobalOptionsFixModal.js":function(e,o,a){"use strict";a.r(o);a("./node_modules/core-js/modules/es.symbol.description.js"),a("./node_modules/core-js/modules/es.promise.js");var t,s=a("./node_modules/react/index.js"),n=a.n(s),i=a("./node_modules/antd/es/message/index.js"),r=a("./node_modules/antd/es/button/index.js"),l=a("./node_modules/electron-log/index.js"),d=a.n(l),c=a("os"),u=a("electron"),p=a("./node_modules/sudo-prompt/index.js"),m=a("child_process"),y=a.n(m),b=a("util"),v=a("./app/localStore.js"),f=a("./app/components/JavaGlobalOptionsFixModal/JavaGlobalOptionsFixModal.scss"),h=a.n(f),O=a("./app/components/Common/Modal/Modal.js"),_=a("./app/constants.js");function j(e,o,a,s){t||(t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,i=arguments.length-3;if(o||0===i||(o={children:void 0}),o&&n)for(var r in n)void 0===o[r]&&(o[r]=n[r]);else o||(o=n||{});if(1===i)o.children=s;else if(i>1){for(var l=new Array(i),d=0;d<i;d++)l[d]=arguments[d+3];o.children=l}return{$$typeof:t,type:e,key:void 0===a?null:""+a,ref:null,props:o,_owner:null}}var w=j("h1",{},void 0,"All Done! We Fixed The Issue!"),x=j("div",{},void 0,"For changes to apply you need to manually reopen the launcher",j("br",{})," Happy Gaming!"),S=j("br",{}),g=j("br",{}),J=j("br",{}),A=j("br",{}),F=j("br",{}),I=j("br",{}),M=j("br",{}),N=j("br",{}),k=j("div",{},void 0,j("b",{},void 0,"If you are unsure"),' about what _JAVA_OPTIONS is, just click "',j("b",{},void 0,"Fix It"),'".');o.default=e=>{const[o,a]=Object(s.useState)(!1),[t,l]=Object(s.useState)(!1),[m,f]=Object(s.useState)(!1);Object(s.useEffect)(()=>{v.a.set("showGlobalOptionsJavaModal",!1)},[]);return j(O.a,{history:e.history,unMount:o,title:"Java Problem Detected: _JAVA_OPTIONS",style:{height:400,width:650}},void 0,!0===m?j("div",{className:h.a.finished},void 0,j("div",{},void 0,w,x,j(r.a,{className:h.a.restartBtn,type:"primary",onClick:async()=>{u.remote.app.quit()}},void 0,"Exit Launcher"))):j(n.a.Fragment,{},void 0,j("div",{className:h.a.main},void 0,"Hey, we are sorry to tell you that we found a problem in your java installation. The good news is that we can fix it ðŸ˜„ ",S," ",g,"We highly recommend fixing it since it can cause multiple errors with the game. ",J," ",A,"Do you want us to unset the _JAVA_OPTIONS global variable from your system?",F," We may ask for Administrator Privileges",I," ",M,N,k),j("div",{className:h.a.buttons},void 0,j("span",{onClick:()=>t?null:a(!0)},void 0,"No, I Like It This Way"),j(r.a,{type:"primary",loading:t,onClick:async()=>{if(l(!0),v.a.set("showGlobalOptionsJavaModal",!0),Object(c.platform)()===_.z)try{const{stdout:e,stderr:o}=await Object(b.promisify)(p.exec)('REG delete "HKLM\\SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Environment" /F /V _JAVA_OPTIONS',{name:"SubitoLauncher Java Fixer"})}catch(e){if("string"==typeof e&&e.includes("User did not grant permission"))return i.a.warn("You need to confirm UAC dialog to proceed"),l(!1),void d.a.error(e);d.a.error(e.message)}finally{try{const{stdout:e,stderr:o}=await Object(b.promisify)(y.a.exec)('SETX _JAVA_OPTIONS "" & REG delete HKCU\\Environment /F /V _JAVA_OPTIONS')}catch{}}else try{const{stdout:e,stderr:o}=await Object(b.promisify)(y.a.exec)("unset _JAVA_OPTIONS")}catch{}l(!1),f(!0)}},void 0,"Yes, Fix It"))))}},"./app/components/JavaGlobalOptionsFixModal/JavaGlobalOptionsFixModal.scss":function(e,o,a){e.exports={primary:"#2980b9",red:"#c0392b",green:"#27ae60",yellow:"#f39c12",secondarycolor1:"#34495e",secondarycolor2:"#2c3e50",secondarycolor3:"#212b36",secondarycolorlight:"#4a6075",main:"_2JXdRnkGy_7jA9Um6l67mw",buttons:"_1v5pAdBNUf_iD9obq2JbSD",finished:"_1PIj7QBkzcN7DIyUqwFcMk",restartBtn:"_2ZPfvSijWl_h0CKfKOu-ae"}}}]);
//# sourceMappingURL=11.js.map